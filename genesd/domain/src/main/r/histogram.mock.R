library("jsonlite");
#the mouse dataset
testdata=fromJSON('[{"A":16.45,"B":16.68,"C":16.47,"D":16.84,"E":17.6,"F":17.62,"_row":"Actb"},{"A":14.8,"B":15.87,"C":14.93,"D":17.22,"E":17.45,"F":17.03,"_row":"Actg1"},{"A":14.52,"B":13.76,"C":14.29,"D":12.77,"E":13.1,"F":13.68,"_row":"Aldoa"},{"A":14.37,"B":13.42,"C":14.25,"D":13.61,"E":13.34,"F":13.35,"_row":"Atp5b"},{"A":10.61,"B":9.95,"C":10.44,"D":7.45,"E":8.85,"F":8.2,"_row":"Card11"},{"A":10.52,"B":11.17,"C":10.49,"D":11.93,"E":12.66,"F":13.12,"_row":"Cars"},{"A":14.49,"B":14.36,"C":14.22,"D":15.25,"E":14.94,"F":16.07,"_row":"Cfl1"},{"A":10.83,"B":12.45,"C":10.86,"D":13.18,"E":13.65,"F":13.2,"_row":"Chuk"},{"A":10.96,"B":10.49,"C":10.85,"D":9.27,"E":8.8,"F":9.23,"_row":"Dmpk"},{"A":18.08,"B":17.89,"C":17.88,"D":17.13,"E":17.43,"F":17.81,"_row":"Eef1a1"},{"A":16.59,"B":15.76,"C":16.46,"D":15.46,"E":15.55,"F":16.68,"_row":"Eef2"},{"A":14.77,"B":14.38,"C":14.72,"D":13.78,"E":14.17,"F":14.35,"_row":"Eif4a1"},{"A":10.29,"B":9.47,"C":10.25,"D":7.53,"E":7.78,"F":7.71,"_row":"Fut7"},{"A":14.49,"B":15.01,"C":14.31,"D":14.7,"E":14.97,"F":14.83,"_row":"Gnb2l1"},{"A":15.43,"B":14.94,"C":15.29,"D":12.88,"E":12.52,"F":11.71,"_row":"Gzmb"},{"A":14.88,"B":14.7,"C":14.49,"D":11.44,"E":11.4,"F":11.0,"_row":"Gzmc"},{"A":14.7,"B":14.89,"C":14.53,"D":14.73,"E":14.93,"F":15.21,"_row":"Hnrnpa2b1"},{"A":14.41,"B":11.48,"C":12.16,"D":11.56,"E":12.32,"F":10.68,"_row":"Lars2"},{"A":14.67,"B":13.75,"C":14.49,"D":13.55,"E":13.52,"F":13.67,"_row":"Lcp1"},{"A":14.61,"B":15.85,"C":14.75,"D":15.72,"E":16.82,"F":16.05,"_row":"Ldha"},{"A":14.73,"B":14.19,"C":14.69,"D":13.08,"E":12.99,"F":12.51,"_row":"Ly6e"},{"A":10.53,"B":11.52,"C":10.57,"D":11.94,"E":12.12,"F":12.14,"_row":"Mtf2"},{"A":15.38,"B":14.52,"C":15.21,"D":14.32,"E":14.43,"F":15.05,"_row":"Myh9"},{"A":15.06,"B":14.74,"C":14.78,"D":14.58,"E":14.68,"F":13.99,"_row":"Npm1"},{"A":10.81,"B":11.09,"C":10.72,"D":11.83,"E":11.78,"F":12.16,"_row":"Orc2"},{"A":17.0,"B":17.7,"C":16.88,"D":17.07,"E":17.38,"F":17.6,"_row":"Pabpc1"},{"A":9.87,"B":11.61,"C":9.64,"D":12.73,"E":12.88,"F":12.4,"_row":"Pdcl3"},{"A":14.52,"B":14.58,"C":14.58,"D":14.47,"E":14.46,"F":14.48,"_row":"Pgk1"},{"A":14.4,"B":13.66,"C":13.97,"D":13.88,"E":14.03,"F":14.15,"_row":"Pkm2"},{"A":13.66,"B":14.71,"C":13.67,"D":15.03,"E":15.19,"F":15.42,"_row":"Plek"},{"A":15.02,"B":14.94,"C":14.74,"D":15.05,"E":15.09,"F":14.29,"_row":"Ppia"},{"A":13.77,"B":14.42,"C":13.83,"D":10.45,"E":10.3,"F":10.71,"_row":"Sell"},{"A":14.44,"B":15.81,"C":14.28,"D":14.96,"E":15.6,"F":14.69,"_row":"Spp1"},{"A":10.8,"B":10.17,"C":10.91,"D":8.48,"E":8.92,"F":8.7,"_row":"St3gal2"},{"A":10.27,"B":11.04,"C":9.84,"D":12.36,"E":12.01,"F":13.02,"_row":"Syngr2"},{"A":14.88,"B":13.55,"C":14.47,"D":14.01,"E":13.83,"F":13.82,"_row":"Tagln2"},{"A":14.97,"B":13.99,"C":14.99,"D":14.52,"E":14.39,"F":15.41,"_row":"Tln1"},{"A":15.84,"B":16.53,"C":15.33,"D":16.1,"E":17.22,"F":15.85,"_row":"Tmsb4x"},{"A":14.55,"B":14.29,"C":14.44,"D":14.04,"E":13.88,"F":14.61,"_row":"Top2a"}]')
#
# histo: barplot, height = counts, breaks=x label
histo=function(dataset) {
	hist.result=hist(as.matrix(dataset), plot=TRUE)
	list(breaks=hist.result$breaks, counts=hist.result$counts, density=hist.result$density, mids=hist.result$mids)
    ########################## 
	# Example Output using R
	# barplot(hist.result$counts, names.arg=as.character(hist.result$breaks[-1]), xlab="Values", ylab="Counts")
	#
};
histo_result <- histo(testdata);
toJSON(histo_result);
