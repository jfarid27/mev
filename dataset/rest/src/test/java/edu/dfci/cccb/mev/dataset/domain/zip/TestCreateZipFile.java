package edu.dfci.cccb.mev.dataset.domain.zip;

import org.apache.commons.io.IOUtils;
import org.junit.Test;

import java.io.*;
import java.nio.charset.StandardCharsets;
import java.nio.file.Paths;
import java.util.zip.ZipEntry;
import java.util.zip.ZipOutputStream;

/**
 * Created by antony on 8/4/16.
 */

public class TestCreateZipFile {

    @Test
    public void createZip() throws IOException {
        String[] arr = {"{\"randomId\":\"0ichcm0elxfwy73hxgvi\",\"name\":\"GeneMAD\",\"type\":\"Gene MAD Analysis\",\"status\":\"SUCCESS\",\"error\":null,\"result\":{\"genes\":[\"Sell\",\"Gzmc\",\"Gzmb\",\"Card11\",\"Cars\",\"Syngr2\",\"Fut7\",\"St3gal2\",\"Actg1\",\"Ly6e\",\"Dmpk\",\"Pdcl3\",\"Ldha\",\"Chuk\",\"Aldoa\",\"Eef2\",\"Orc2\",\"Spp1\",\"Plek\",\"Cfl1\",\"Lars2\",\"Mtf2\",\"Myh9\",\"Tmsb4x\",\"Tln1\",\"Actb\",\"Pabpc1\",\"Eif4a1\",\"Tagln2\",\"Gnb2l1\",\"Top2a\",\"Lcp1\",\"Atp5b\",\"Eef1a1\",\"Pkm2\",\"Hnrnpa2b1\",\"Npm1\",\"Ppia\",\"Pgk1\"],\"mad\":[2.5056,2.4463,2.0534,1.6605,1.5493,1.5493,1.49,1.4159,1.3121,1.2602,1.2009,1.1861,0.9637,0.9044,0.8821,0.771,0.7561,0.6894,0.6449,0.6301,0.6227,0.593,0.5782,0.5115,0.4448,0.4448,0.4225,0.4077,0.3484,0.3336,0.3188,0.2595,0.252,0.2076,0.2002,0.1705,0.1483,0.1334,0.0519]},\"params\":{\"analysisName\":\"GeneMAD\",\"analysisType\":\"genemad\",\"datasetName\":\"mouse_test_data.tsv\"},\"_id\":\"mouse_test_data.tsv/analysis/GeneMAD\",\"_rev\":\"2-0d7592c40acae014edcc6f46583336f9\"}",
                "{\"randomId\":\"lhmcwjwziv90a20ara4i\",\"name\":\"GeneSD\",\"type\":\"Gene SD Analysis\",\"status\":\"SUCCESS\",\"error\":null,\"result\":{\"genes\":[\"Sell\",\"Gzmc\",\"Gzmb\",\"Pdcl3\",\"Fut7\",\"Card11\",\"Lars2\",\"Syngr2\",\"Chuk\",\"Actg1\",\"Cars\",\"St3gal2\",\"Ly6e\",\"Dmpk\",\"Ldha\",\"Plek\",\"Mtf2\",\"Cfl1\",\"Aldoa\",\"Tmsb4x\",\"Spp1\",\"Orc2\",\"Eef2\",\"Actb\",\"Tln1\",\"Lcp1\",\"Tagln2\",\"Atp5b\",\"Myh9\",\"Eif4a1\",\"Npm1\",\"Eef1a1\",\"Pabpc1\",\"Ppia\",\"Top2a\",\"Gnb2l1\",\"Pkm2\",\"Hnrnpa2b1\",\"Pgk1\"],\"sd\":[1.9458,1.8781,1.6143,1.439,1.3118,1.2852,1.2713,1.2454,1.2362,1.1808,1.1056,1.094,0.9577,0.9406,0.8323,0.7701,0.7468,0.6949,0.6706,0.6558,0.6225,0.6022,0.5536,0.536,0.5085,0.5046,0.4913,0.4662,0.4496,0.3662,0.356,0.3529,0.3379,0.3034,0.2906,0.2757,0.2502,0.2345,0.0543]},\"params\":{\"analysisName\":\"GeneSD\",\"analysisType\":\"genesd\",\"datasetName\":\"mouse_test_data.tsv\"},\"_id\":\"mouse_test_data.tsv/analysis/GeneSD\",\"_rev\":\"2-dfe9627defac50e6080104ce76ada6eb\"}",
                "{\"randomId\":\"d0xv5oq4q06i1i3sor\",\"name\":\"Histogram\",\"type\":\"Histogram Analysis\",\"status\":\"SUCCESS\",\"error\":null,\"result\":{\"breaks\":[7,8,9,10,11,12,13,14,15,16,17,18,19],\"counts\":[4,6,7,24,14,17,31,74,27,14,15,1],\"density\":[0.0171,0.0256,0.0299,0.1026,0.0598,0.0726,0.1325,0.3162,0.1154,0.0598,0.0641,0.0043],\"mids\":[7.5,8.5,9.5,10.5,11.5,12.5,13.5,14.5,15.5,16.5,17.5,18.5]},\"params\":{\"analysisName\":\"Histogram\",\"analysisType\":\"histogram\",\"datasetName\":\"mouse_test_data.tsv\"},\"_id\":\"mouse_test_data.tsv/analysis/Histogram\",\"_rev\":\"2-e04a6553f05f571958148cf4c911c6c9\"}",
                "{\"randomId\":\"8m02qyrm22hxsnz8h0k9\",\"name\":\"PCA\",\"type\":\"pca\",\"status\":\"SUCCESS\",\"error\":null,\"sdev\":[5.1805,1.6014,1.27,0.9503,0.5925,4.579e-15],\"x\":{\"A\":{\"PC1\":-5.9558,\"PC2\":1.1324,\"PC3\":1.055},\"B\":{\"PC1\":-2.3418,\"PC2\":-2.8169,\"PC3\":-1.0186},\"C\":{\"PC1\":-5.4606,\"PC2\":0.8236,\"PC3\":-0.5208},\"D\":{\"PC1\":4.2453,\"PC2\":0.1323,\"PC3\":0.7853},\"E\":{\"PC1\":4.4878,\"PC2\":-0.7856,\"PC3\":1.4276},\"F\":{\"PC1\":5.0251,\"PC2\":1.5142,\"PC3\":-1.7286}},\"params\":{\"analysisName\":\"PCA\",\"analysisType\":\"pca\",\"datasetName\":\"mouse_test_data.tsv\"},\"_id\":\"mouse_test_data.tsv/analysis/PCA\",\"_rev\":\"2-dec237b18764f9a5278ec68f0e21572f\"}",
                "{\"randomId\":\"msjamiu7s1vid2xirudi\",\"name\":\"anova_s1s2\",\"timestamp\":{\"timeInMillis\":1469820524415,\"seconds\":44,\"minutes\":28,\"hours\":3,\"period\":\"PM\"},\"type\":\"Anova Analysis\",\"results\":[{\"id\":\"Actb\",\"pValue\":0.0372767752895078,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":-0.0484060658355377}]},{\"id\":\"Actg1\",\"pValue\":0.00475715790263576,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":-0.125550064994043}]},{\"id\":\"Aldoa\",\"pValue\":0.0445872631428434,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":0.073584085626398}]},{\"id\":\"Atp5b\",\"pValue\":0.136076433675512,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":0.042270077056113}]},{\"id\":\"Card11\",\"pValue\":0.00857418658944464,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":0.235314086934465}]},{\"id\":\"Cars\",\"pValue\":0.0109838748923272,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":-0.158580169706029}]},{\"id\":\"Cfl1\",\"pValue\":0.0371739664732877,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":-0.0714509577372739}]},{\"id\":\"Chuk\",\"pValue\":0.0242931892471776,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":-0.159159455638188}]},{\"id\":\"Dmpk\",\"pValue\":0.00128786542499659,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":0.168180528037697}]},{\"id\":\"Eef1a1\",\"pValue\":0.0759394477768005,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":0.0278684953110013}]},{\"id\":\"Eef2\",\"pValue\":0.4711065462557,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":0.023213477588923}]},{\"id\":\"Eif4a1\",\"pValue\":0.0657300449453465,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":0.0364436291258904}]},{\"id\":\"Fut7\",\"pValue\":0.00109507207442561,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":0.265167256158539}]},{\"id\":\"Gnb2l1\",\"pValue\":0.362324575421498,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":-0.0156270873463875}]},{\"id\":\"Gzmb\",\"pValue\":0.0016149591561514,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":0.207336166029143}]},{\"id\":\"Gzmc\",\"pValue\":0.0000458230661042336,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":0.264135744115873}]},{\"id\":\"Hnrnpa2b1\",\"pValue\":0.223590230342153,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":-0.0168562256025902}]},{\"id\":\"Lars2\",\"pValue\":0.311125065237193,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":0.09620414037184}]},{\"id\":\"Lcp1\",\"pValue\":0.0642433294911533,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":0.0518944882047736}]},{\"id\":\"Ldha\",\"pValue\":0.091645377013341,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":-0.0720994471112977}]},{\"id\":\"Ly6e\",\"pValue\":0.00249456783826507,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":0.122552474377092}]},{\"id\":\"Mtf2\",\"pValue\":0.0223747236725464,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":-0.104133521638858}]},{\"id\":\"Myh9\",\"pValue\":0.277315361359152,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":0.0294701340379041}]},{\"id\":\"Npm1\",\"pValue\":0.135537363113223,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":0.0302880945798345}]},{\"id\":\"Orc2\",\"pValue\":0.00299926218314361,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":-0.0921839560780586}]},{\"id\":\"Pabpc1\",\"pValue\":0.627263420605303,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":-0.00907079460777937}]},{\"id\":\"Pdcl3\",\"pValue\":0.0227444939729013,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":-0.199998583690967}]},{\"id\":\"Pgk1\",\"pValue\":0.0124134986204161,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":0.00620050212514748}]},{\"id\":\"Pkm2\",\"pValue\":0.967165529439639,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":-0.000713521257528356}]},{\"id\":\"Plek\",\"pValue\":0.0306085518366077,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":-0.0821629789851245}]},{\"id\":\"Ppia\",\"pValue\":0.758403671153381,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":0.00605858467170609}]},{\"id\":\"Sell\",\"pValue\":0.000124694313333062,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":0.289428797786723}]},{\"id\":\"Spp1\",\"pValue\":0.687968903944535,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":-0.0160395508123242}]},{\"id\":\"St3gal2\",\"pValue\":0.00185319617123736,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":0.200043539593367}]},{\"id\":\"Syngr2\",\"pValue\":0.0105825342590433,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":-0.18258904375556}]},{\"id\":\"Tagln2\",\"pValue\":0.357732455060748,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":0.0293303901011453}]},{\"id\":\"Tln1\",\"pValue\":0.801904161943506,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":-0.00838341830784237}]},{\"id\":\"Tmsb4x\",\"pValue\":0.420374795532752,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":-0.0303522835295525}]},{\"id\":\"Top2a\",\"pValue\":0.34553750184842,\"pairwise_log_fold_change\":[{\"partnerA\":\"s1\",\"partnerB\":\"s2\",\"ratio\":0.017480925272684}]}],\"params\":{\"analysisName\":\"anova_s1s2\",\"datasetName\":\"mouse_test_data.tsv\",\"analysisType\":\"anova\",\"name\":\"anova_s1s2\",\"pValue\":0.05,\"multTestCorrection\":false,\"selections\":[\"s2\",\"s1\"]},\"_id\":\"mouse_test_data.tsv/analysis/anova_s1s2\",\"_rev\":\"2-02deafebf4647b73a47fe58d12759a17\"}",
                "{\"randomId\":\"ot1zjpjp0s7bq4p1fw29\",\"viewType\":\"tree\",\"name\":\"hcl_cols\",\"timestamp\":{\"timeInMillis\":1469820478190,\"seconds\":58,\"minutes\":27,\"hours\":3,\"period\":\"PM\"},\"type\":\"Hierarchical Clustering\",\"result\":{\"column\":{\"distance\":0,\"children\":[{\"distance\":3.1877,\"children\":[{\"name\":\"B\"},{\"distance\":2.594,\"children\":[{\"name\":\"A\"},{\"name\":\"C\"}]}]},{\"distance\":1.1129,\"children\":[{\"distance\":2.9154,\"children\":[{\"name\":\"E\"},{\"name\":\"D\"}]},{\"name\":\"F\"}]}]},\"row\":null},\"dimension\":[\"column\"],\"params\":{\"analysisName\":\"hcl_cols\",\"datasetName\":\"mouse_test_data.tsv\",\"analysisType\":\"hcl\",\"name\":\"hcl_cols\",\"metric\":\"euclidean\",\"linkage\":\"complete\",\"dimension\":\"column\"},\"_id\":\"mouse_test_data.tsv/analysis/hcl_cols\",\"_rev\":\"2-0de4ea7ec6b5eacb7814273717d7b8b1\"}",
                "{\"randomId\":\"8hjeazxpdicxvil01wcdi\",\"name\":\"kmeans_cols\",\"type\":\"K-means Clustering\",\"status\":\"SUCCESS\",\"error\":null,\"clusters\":[[\"D\",\"E\",\"F\"],[\"B\"],[\"A\",\"C\"]],\"dimension\":\"column\",\"params\":{\"analysisName\":\"kmeans_cols\",\"datasetName\":\"mouse_test_data.tsv\",\"analysisType\":\"kmeans\",\"analysisParams\":\"dimension=column,k=3,metric=euclidean,iterations=100,convergence=0\"},\"_id\":\"mouse_test_data.tsv/analysis/kmeans_cols\",\"_rev\":\"2-1cafbb2e5e37109a09df8d939859df43\"}",
                "{\"randomId\":\"e8rnlywcz169w6zuxr\",\"name\":\"kmeans_cols2\",\"type\":\"K-means Clustering\",\"status\":\"SUCCESS\",\"error\":null,\"clusters\":[[\"D\",\"E\",\"F\"],[\"B\"],[\"A\",\"C\"]],\"dimension\":\"column\",\"params\":{\"analysisName\":\"kmeans_cols2\",\"dimension\":\"column\",\"datasetName\":\"mouse_test_data.tsv\",\"analysisType\":\"kmeans\",\"name\":\"kmeans_cols2\",\"k\":3,\"metric\":\"euclidean\",\"iterations\":100},\"_id\":\"mouse_test_data.tsv/analysis/kmeans_cols2\",\"_rev\":\"2-47ab214fd5a6dfc197edba874523e739\"}",
                "{\"randomId\":\"j4riihvitr9ispvkuik9\",\"name\":\"kmeans_rows\",\"type\":\"K-means Clustering\",\"status\":\"SUCCESS\",\"error\":null,\"clusters\":[[\"Actb\",\"Tmsb4x\",\"Pabpc1\",\"Eef1a1\",\"Eef2\",\"Actg1\"],[\"Cars\",\"Pdcl3\",\"Card11\",\"Chuk\",\"Mtf2\",\"Fut7\",\"Sell\",\"Lars2\",\"Dmpk\",\"Orc2\",\"Syngr2\",\"St3gal2\"],[\"Tln1\",\"Hnrnpa2b1\",\"Gnb2l1\",\"Eif4a1\",\"Gzmb\",\"Pkm2\",\"Gzmc\",\"Myh9\",\"Pgk1\",\"Tagln2\",\"Top2a\",\"Ppia\",\"Npm1\",\"Lcp1\",\"Aldoa\",\"Ldha\",\"Cfl1\",\"Ly6e\",\"Plek\",\"Spp1\",\"Atp5b\"]],\"dimension\":\"row\",\"params\":{\"analysisName\":\"kmeans_rows\",\"datasetName\":\"mouse_test_data.tsv\",\"analysisType\":\"kmeans\",\"analysisParams\":\"dimension=row,k=3,metric=euclidean,iterations=100,convergence=0\"},\"_id\":\"mouse_test_data.tsv/analysis/kmeans_rows\",\"_rev\":\"2-543caa43b077edd7e1badf003a6dfae6\"}",
                "{\"randomId\":\"w9047ielyceozqudte29\",\"name\":\"limma_s1s2\",\"timestamp\":{\"timeInMillis\":1469820542390,\"seconds\":2,\"minutes\":29,\"hours\":3,\"period\":\"PM\"},\"type\":\"LIMMA Differential Expression Analysis\",\"results\":[{\"id\":\"Gzmc\",\"logFoldChange\":3.41,\"averageExpression\":12.985,\"pValue\":0.0000011468,\"qValue\":0,\"t\":14.1078,\"logPValue\":-13.6786},{\"id\":\"Sell\",\"logFoldChange\":3.52,\"averageExpression\":12.2467,\"pValue\":0.000001914,\"qValue\":0,\"t\":13.1433,\"logPValue\":-13.1663},{\"id\":\"Gzmb\",\"logFoldChange\":2.85,\"averageExpression\":13.795,\"pValue\":0,\"qValue\":0.0005,\"t\":8.3559,\"logPValue\":-9.9714},{\"id\":\"Fut7\",\"logFoldChange\":2.33,\"averageExpression\":8.8383,\"pValue\":0.0001,\"qValue\":0.0005,\"t\":8.1319,\"logPValue\":-9.7859},{\"id\":\"St3gal2\",\"logFoldChange\":1.9267,\"averageExpression\":9.6633,\"pValue\":0.0002,\"qValue\":0.0013,\"t\":6.8947,\"logPValue\":-8.6801},{\"id\":\"Dmpk\",\"logFoldChange\":1.6667,\"averageExpression\":9.9333,\"pValue\":0.0002,\"qValue\":0.0015,\"t\":6.5909,\"logPValue\":-8.3853},{\"id\":\"Ly6e\",\"logFoldChange\":1.6767,\"averageExpression\":13.6983,\"pValue\":0.0004,\"qValue\":0.0018,\"t\":6.1666,\"logPValue\":-7.9564},{\"id\":\"Actg1\",\"logFoldChange\":-2.0333,\"averageExpression\":16.2167,\"pValue\":0.0004,\"qValue\":0.0018,\"t\":-6.141,\"logPValue\":-7.9298},{\"id\":\"Card11\",\"logFoldChange\":2.1667,\"averageExpression\":9.25,\"pValue\":0.0006,\"qValue\":0.0028,\"t\":5.6069,\"logPValue\":-7.3574},{\"id\":\"Syngr2\",\"logFoldChange\":-2.08,\"averageExpression\":11.4233,\"pValue\":0.0009,\"qValue\":0.0035,\"t\":-5.306,\"logPValue\":-7.0188},{\"id\":\"Cars\",\"logFoldChange\":-1.8433,\"averageExpression\":11.6483,\"pValue\":0.0012,\"qValue\":0.0041,\"t\":-5.0844,\"logPValue\":-6.7615},{\"id\":\"Pdcl3\",\"logFoldChange\":-2.2967,\"averageExpression\":11.5217,\"pValue\":0.0023,\"qValue\":0.0074,\"t\":-4.5193,\"logPValue\":-6.0741},{\"id\":\"Orc2\",\"logFoldChange\":-1.05,\"averageExpression\":11.3983,\"pValue\":0.0025,\"qValue\":0.0074,\"t\":-4.4641,\"logPValue\":-6.0044},{\"id\":\"Chuk\",\"logFoldChange\":-1.9633,\"averageExpression\":12.3617,\"pValue\":0.003,\"qValue\":0.0083,\"t\":-4.3207,\"logPValue\":-5.8213},{\"id\":\"Mtf2\",\"logFoldChange\":-1.1933,\"averageExpression\":11.47,\"pValue\":0.006,\"qValue\":0.0156,\"t\":-3.79,\"logPValue\":-5.1172},{\"id\":\"Plek\",\"logFoldChange\":-1.2,\"averageExpression\":14.6133,\"pValue\":0.0081,\"qValue\":0.0197,\"t\":-3.5743,\"logPValue\":-4.8193},{\"id\":\"Cfl1\",\"logFoldChange\":-1.0633,\"averageExpression\":14.8883,\"pValue\":0.0122,\"qValue\":0.028,\"t\":-3.2814,\"logPValue\":-4.4043},{\"id\":\"Aldoa\",\"logFoldChange\":1.0067,\"averageExpression\":13.6867,\"pValue\":0.0161,\"qValue\":0.0348,\"t\":3.0935,\"logPValue\":-4.132},{\"id\":\"Actb\",\"logFoldChange\":-0.82,\"averageExpression\":16.9433,\"pValue\":0.0209,\"qValue\":0.0429,\"t\":-2.9141,\"logPValue\":-3.8684},{\"id\":\"Ldha\",\"logFoldChange\":-1.1267,\"averageExpression\":15.6333,\"pValue\":0.0307,\"qValue\":0.0598,\"t\":-2.6567,\"logPValue\":-3.4844},{\"id\":\"Lcp1\",\"logFoldChange\":0.7233,\"averageExpression\":13.9417,\"pValue\":0.0396,\"qValue\":0.0735,\"t\":2.4879,\"logPValue\":-3.23},{\"id\":\"Eif4a1\",\"logFoldChange\":0.5233,\"averageExpression\":14.3617,\"pValue\":0.0752,\"qValue\":0.1332,\"t\":2.065,\"logPValue\":-2.5882},{\"id\":\"Eef1a1\",\"logFoldChange\":0.4933,\"averageExpression\":17.7033,\"pValue\":0.0895,\"qValue\":0.1518,\"t\":1.9496,\"logPValue\":-2.4136},{\"id\":\"Atp5b\",\"logFoldChange\":0.58,\"averageExpression\":13.7233,\"pValue\":0.096,\"qValue\":0.156,\"t\":1.903,\"logPValue\":-2.3433},{\"id\":\"Npm1\",\"logFoldChange\":0.4433,\"averageExpression\":14.6383,\"pValue\":0.1379,\"qValue\":0.2151,\"t\":1.6608,\"logPValue\":-1.9814},{\"id\":\"Lars2\",\"logFoldChange\":1.1633,\"averageExpression\":12.1017,\"pValue\":0.1674,\"qValue\":0.2512,\"t\":1.5284,\"logPValue\":-1.7871},{\"id\":\"Myh9\",\"logFoldChange\":0.4367,\"averageExpression\":14.8183,\"pValue\":0.2182,\"qValue\":0.3152,\"t\":1.3439,\"logPValue\":-1.5222},{\"id\":\"Tagln2\",\"logFoldChange\":0.4133,\"averageExpression\":14.0933,\"pValue\":0.2794,\"qValue\":0.3892,\"t\":1.1659,\"logPValue\":-1.2751},{\"id\":\"Tmsb4x\",\"logFoldChange\":-0.49,\"averageExpression\":16.145,\"pValue\":0.3076,\"qValue\":0.4136,\"t\":-1.0947,\"logPValue\":-1.1791},{\"id\":\"Hnrnpa2b1\",\"logFoldChange\":-0.25,\"averageExpression\":14.8317,\"pValue\":0.3285,\"qValue\":0.4271,\"t\":-1.0451,\"logPValue\":-1.1131},{\"id\":\"Top2a\",\"logFoldChange\":0.25,\"averageExpression\":14.3017,\"pValue\":0.3753,\"qValue\":0.4607,\"t\":0.9426,\"logPValue\":-0.9802},{\"id\":\"Eef2\",\"logFoldChange\":0.3733,\"averageExpression\":16.0833,\"pValue\":0.378,\"qValue\":0.4607,\"t\":0.9368,\"logPValue\":-0.9728},{\"id\":\"Gnb2l1\",\"logFoldChange\":-0.23,\"averageExpression\":14.7183,\"pValue\":0.4047,\"qValue\":0.4783,\"t\":-0.8829,\"logPValue\":-0.9045},{\"id\":\"Spp1\",\"logFoldChange\":-0.24,\"averageExpression\":14.9633,\"pValue\":0.6121,\"qValue\":0.6841,\"t\":-0.529,\"logPValue\":-0.4909},{\"id\":\"Pabpc1\",\"logFoldChange\":-0.1567,\"averageExpression\":17.2717,\"pValue\":0.6139,\"qValue\":0.6841,\"t\":-0.5263,\"logPValue\":-0.4879},{\"id\":\"Pgk1\",\"logFoldChange\":0.09,\"averageExpression\":14.515,\"pValue\":0.6705,\"qValue\":0.7264,\"t\":0.4426,\"logPValue\":-0.3997},{\"id\":\"Ppia\",\"logFoldChange\":0.09,\"averageExpression\":14.855,\"pValue\":0.7604,\"qValue\":0.782,\"t\":0.3163,\"logPValue\":-0.2739},{\"id\":\"Tln1\",\"logFoldChange\":-0.1233,\"averageExpression\":14.7117,\"pValue\":0.7619,\"qValue\":0.782,\"t\":-0.3142,\"logPValue\":-0.2719},{\"id\":\"Pkm2\",\"logFoldChange\":-0.01,\"averageExpression\":14.015,\"pValue\":0.9706,\"qValue\":0.9706,\"t\":-0.0381,\"logPValue\":-0.0298}],\"control\":null,\"experiment\":null,\"params\":{\"analysisName\":\"limma_s1s2\",\"datasetName\":\"mouse_test_data.tsv\",\"analysisType\":\"limma\",\"name\":\"limma_s1s2\",\"experiment\":{\"name\":\"s1\",\"properties\":{\"selectionColor\":\"#691fd8\",\"selectionDescription\":\"\"},\"keys\":[\"A\",\"B\",\"C\"],\"type\":\"column\",\"$$hashKey\":\"object:2330\",\"selected\":true},\"control\":{\"name\":\"s2\",\"properties\":{\"selectionColor\":\"#17e8bf\",\"selectionDescription\":\"\"},\"keys\":[\"D\",\"E\",\"F\"],\"type\":\"column\",\"$$hashKey\":\"object:2329\",\"selected\":true}},\"_id\":\"mouse_test_data.tsv/analysis/limma_s1s2\",\"_rev\":\"2-e5702ab92548e8a62e538b44ed2ec29b\"}",
                "{\"randomId\":\"sdynjxqep9ugsqf5n4s4i\",\"name\":\"voom_s1s2\",\"type\":\"voom\",\"status\":\"SUCCESS\",\"error\":null,\"results\":[{\"logFC\":0.3792,\"t\":9.5356,\"_row\":\"Sell\",\"AveExpr\":14.5262,\"P.Value\":5.5857e-11,\"adj.P.Val\":2.1784e-9,\"B\":14.9665},{\"logFC\":0.3451,\"t\":9.1949,\"_row\":\"Gzmc\",\"AveExpr\":14.6097,\"P.Value\":1.3434e-10,\"adj.P.Val\":2.6197e-9,\"B\":14.0646},{\"logFC\":0.3394,\"t\":7.0588,\"_row\":\"Fut7\",\"AveExpr\":14.0795,\"P.Value\":4.5938e-8,\"adj.P.Val\":5.972e-7,\"B\":8.3725},{\"logFC\":0.2694,\"t\":6.6535,\"_row\":\"Gzmb\",\"AveExpr\":14.6979,\"P.Value\":1.4717e-7,\"adj.P.Val\":0.0000014349,\"B\":7.0678},{\"logFC\":-0.1969,\"t\":-6.5423,\"_row\":\"Actg1\",\"AveExpr\":14.9284,\"P.Value\":2.0302e-7,\"adj.P.Val\":0.0000015835,\"B\":6.5138},{\"logFC\":-0.3019,\"t\":-6.1243,\"_row\":\"Pdcl3\",\"AveExpr\":14.4468,\"P.Value\":6.8615e-7,\"adj.P.Val\":0.00000446,\"B\":5.6158},{\"logFC\":-0.2742,\"t\":-5.943,\"_row\":\"Syngr2\",\"AveExpr\":14.4373,\"P.Value\":0.0000011672,\"adj.P.Val\":0.000006156,\"B\":5.0981},{\"logFC\":0.3031,\"t\":5.9162,\"_row\":\"Card11\",\"AveExpr\":14.1428,\"P.Value\":0.0000012628,\"adj.P.Val\":0.000006156,\"B\":5.0815},{\"logFC\":-0.2448,\"t\":-5.4768,\"_row\":\"Chuk\",\"AveExpr\":14.5475,\"P.Value\":0.0000046,\"adj.P.Val\":0,\"B\":3.6898},{\"logFC\":-0.2413,\"t\":-5.4613,\"_row\":\"Cars\",\"AveExpr\":14.466,\"P.Value\":0.0000048145,\"adj.P.Val\":0,\"B\":3.6838},{\"logFC\":0.2524,\"t\":5.3374,\"_row\":\"St3gal2\",\"AveExpr\":14.2066,\"P.Value\":0.0000069346,\"adj.P.Val\":0,\"B\":3.3952},{\"logFC\":0.2097,\"t\":4.4936,\"_row\":\"Dmpk\",\"AveExpr\":14.2464,\"P.Value\":0.0001,\"adj.P.Val\":0.0003,\"B\":0.9608},{\"logFC\":0.1502,\"t\":4.327,\"_row\":\"Ly6e\",\"AveExpr\":14.6931,\"P.Value\":0.0001,\"adj.P.Val\":0.0004,\"B\":0.2105},{\"logFC\":-0.1365,\"t\":-3.8676,\"_row\":\"Plek\",\"AveExpr\":14.7844,\"P.Value\":0.0005,\"adj.P.Val\":0.0014,\"B\":-1.0645},{\"logFC\":-0.1665,\"t\":-3.7121,\"_row\":\"Mtf2\",\"AveExpr\":14.4472,\"P.Value\":0.0008,\"adj.P.Val\":0.0019,\"B\":-1.2438},{\"logFC\":-0.1207,\"t\":-3.6462,\"_row\":\"Cfl1\",\"AveExpr\":14.8108,\"P.Value\":0.0009,\"adj.P.Val\":0.0021,\"B\":-1.6964},{\"logFC\":-0.0918,\"t\":-3.7416,\"_row\":\"Actb\",\"AveExpr\":14.9923,\"P.Value\":0.0007,\"adj.P.Val\":0.0018,\"B\":-1.7203},{\"logFC\":-0.1488,\"t\":-3.4165,\"_row\":\"Orc2\",\"AveExpr\":14.4394,\"P.Value\":0.0017,\"adj.P.Val\":0.0035,\"B\":-2.0129},{\"logFC\":-0.1245,\"t\":-3.5086,\"_row\":\"Ldha\",\"AveExpr\":14.8786,\"P.Value\":0.0013,\"adj.P.Val\":0.0029,\"B\":-2.0399},{\"logFC\":0.0801,\"t\":2.3053,\"_row\":\"Aldoa\",\"AveExpr\":14.6933,\"P.Value\":0.0276,\"adj.P.Val\":0.0539,\"B\":-4.8678},{\"logFC\":0.109,\"t\":1.9185,\"_row\":\"Lars2\",\"AveExpr\":14.5179,\"P.Value\":0.0638,\"adj.P.Val\":0.1185,\"B\":-5.3823},{\"logFC\":-0.0637,\"t\":-1.7987,\"_row\":\"Tmsb4x\",\"AveExpr\":14.9243,\"P.Value\":0.0813,\"adj.P.Val\":0.1441,\"B\":-5.8389},{\"logFC\":0.049,\"t\":1.452,\"_row\":\"Lcp1\",\"AveExpr\":14.7197,\"P.Value\":0.156,\"adj.P.Val\":0.2435,\"B\":-6.3803},{\"logFC\":-0.0446,\"t\":-1.4294,\"_row\":\"Hnrnpa2b1\",\"AveExpr\":14.8065,\"P.Value\":0.1624,\"adj.P.Val\":0.2435,\"B\":-6.4302},{\"logFC\":-0.0438,\"t\":-1.4386,\"_row\":\"Gnb2l1\",\"AveExpr\":14.7958,\"P.Value\":0.1597,\"adj.P.Val\":0.2435,\"B\":-6.4575},{\"logFC\":-0.0347,\"t\":-1.6277,\"_row\":\"Pabpc1\",\"AveExpr\":15.0195,\"P.Value\":0.1132,\"adj.P.Val\":0.1919,\"B\":-6.5668},{\"logFC\":-0.0462,\"t\":-1.2583,\"_row\":\"Spp1\",\"AveExpr\":14.818,\"P.Value\":0.2172,\"adj.P.Val\":0.3137,\"B\":-6.6104},{\"logFC\":0.036,\"t\":1.0009,\"_row\":\"Atp5b\",\"AveExpr\":14.6978,\"P.Value\":0.3242,\"adj.P.Val\":0.4365,\"B\":-6.8628},{\"logFC\":-0.0318,\"t\":-0.9569,\"_row\":\"Tln1\",\"AveExpr\":14.7947,\"P.Value\":0.3456,\"adj.P.Val\":0.4365,\"B\":-7.0349},{\"logFC\":0.0288,\"t\":0.9639,\"_row\":\"Eif4a1\",\"AveExpr\":14.7614,\"P.Value\":0.3421,\"adj.P.Val\":0.4365,\"B\":-7.0355},{\"logFC\":-0.0226,\"t\":-0.7033,\"_row\":\"Pkm2\",\"AveExpr\":14.7275,\"P.Value\":0.4868,\"adj.P.Val\":0.5933,\"B\":-7.1875},{\"logFC\":0.0206,\"t\":0.6274,\"_row\":\"Myh9\",\"AveExpr\":14.8049,\"P.Value\":0.5348,\"adj.P.Val\":0.6134,\"B\":-7.2479},{\"logFC\":0.021,\"t\":0.6761,\"_row\":\"Npm1\",\"AveExpr\":14.788,\"P.Value\":0.5037,\"adj.P.Val\":0.5953,\"B\":-7.2623},{\"logFC\":0.0182,\"t\":0.5293,\"_row\":\"Tagln2\",\"AveExpr\":14.7348,\"P.Value\":0.6002,\"adj.P.Val\":0.6688,\"B\":-7.3222},{\"logFC\":-0.0151,\"t\":-0.4584,\"_row\":\"Ppia\",\"AveExpr\":14.8086,\"P.Value\":0.6497,\"adj.P.Val\":0.6867,\"B\":-7.328},{\"logFC\":0.0098,\"t\":0.2784,\"_row\":\"Eef2\",\"AveExpr\":14.9192,\"P.Value\":0.7824,\"adj.P.Val\":0.803,\"B\":-7.3641},{\"logFC\":-0.0128,\"t\":-0.4558,\"_row\":\"Pgk1\",\"AveExpr\":14.7765,\"P.Value\":0.6515,\"adj.P.Val\":0.6867,\"B\":-7.4504},{\"logFC\":0.0037,\"t\":0.1278,\"_row\":\"Top2a\",\"AveExpr\":14.7557,\"P.Value\":0.8991,\"adj.P.Val\":0.8991,\"B\":-7.5405},{\"logFC\":0.0169,\"t\":0.9541,\"_row\":\"Eef1a1\",\"AveExpr\":15.0541,\"P.Value\":0.347,\"adj.P.Val\":0.4365,\"B\":-7.5729}],\"params\":{\"analysisName\":\"voom_s1s2\",\"datasetName\":\"mouse_test_data.tsv\",\"analysisType\":\"voom\",\"name\":\"voom_s1s2\",\"experiment\":{\"name\":\"s1\",\"properties\":{\"selectionColor\":\"#691fd8\",\"selectionDescription\":\"\"},\"keys\":[\"A\",\"B\",\"C\"],\"type\":\"column\",\"$$hashKey\":\"object:2330\"},\"control\":{\"name\":\"s2\",\"properties\":{\"selectionColor\":\"#17e8bf\",\"selectionDescription\":\"\"},\"keys\":[\"D\",\"E\",\"F\"],\"type\":\"column\",\"$$hashKey\":\"object:2329\"}},\"_id\":\"mouse_test_data.tsv/analysis/voom_s1s2\",\"_rev\":\"2-2c3ea0551866805ecb350ae2b709a4ed\"}"
        };

        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();
        BufferedOutputStream bufferedOutputStream = new BufferedOutputStream(byteArrayOutputStream);
        ZipOutputStream zipOutputStream = new ZipOutputStream(byteArrayOutputStream);

        int i=0;
        for(String s : arr){
            InputStream sout = new ByteArrayInputStream(s.getBytes());
            ZipEntry entry = new ZipEntry(String.format("entry_%d.txt", i));
            zipOutputStream.putNextEntry(entry);
            IOUtils.copy(sout, zipOutputStream);
            zipOutputStream.closeEntry();
            sout.close();
            i++;
        }
        zipOutputStream.close();
        FileOutputStream fout = new FileOutputStream("/tmp/testx.zip");
        IOUtils.write(byteArrayOutputStream.toByteArray(), fout);
        fout.flush();
        fout.close();
    }
}
